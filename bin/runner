#!/usr/bin/env ruby
# frozen_string_literal: true

require "bundler/setup"
require "watchcat"

raise "please specify a path to watch" if ARGV.length.zero?
w = Watchcat::Executor.new
w.add(ARGV[0], recursive: false) { |e| pp e.kind, e.paths }
w.start

at_exit { w.stop }

puts "watching start"
sleep 30
w.stop
puts "watching stop"
